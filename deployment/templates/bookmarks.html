{% extends "base.html" %}

{% block title %}Bookmarks - News Aggregator{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1><i class="fas fa-bookmark"></i> Bookmarked Articles</h1>
        <p class="text-muted">Your saved articles for later reading</p>
    </div>
</div>

<div class="row">
    {% if bookmarks %}
        {% for bookmark in bookmarks %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 card-hover">
                <div class="card-header stable-header">
                    <div class="d-flex justify-content-between align-items-start">
                        <span class="badge source-badge bg-{{ 'primary' if bookmark[5] == 'RSS' else 'info' if bookmark[5] == 'Twitter' else 'danger' }}">
                            {{ bookmark[5] }}
                        </span>
                        <span class="badge category-badge bg-secondary">{{ bookmark[6] }}</span>
                    </div>
                </div>
                <div class="card-body stable-card-body">
                    <h6 class="card-title">
                        <a href="{{ url_for('view_article', article_id=bookmark[3]) }}" 
                           class="text-decoration-none text-dark">
                            {{ bookmark[4][:80] }}{% if bookmark[4]|length > 80 %}...{% endif %}
                        </a>
                    </h6>
                    <p class="card-text">
                        <strong>Bookmark:</strong> {{ bookmark[1] }}<br>
                        <small class="text-muted">
                            <i class="fas fa-clock"></i> Saved: {{ bookmark[2][:16] }}
                        </small>
                    </p>
                </div>
                <div class="card-footer">
                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('view_article', article_id=bookmark[3]) }}" 
                           class="btn btn-sm btn-primary stable-btn">
                            <i class="fas fa-eye"></i> Read
                        </a>
                        <button class="btn btn-sm btn-outline-danger stable-btn" 
                                onclick="removeBookmark({{ bookmark[0] }})">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <div class="col-12">
            <div class="text-center text-muted py-5">
                <i class="fas fa-bookmark fa-4x mb-4"></i>
                <h3>No Bookmarks Yet</h3>
                <p class="lead">Start bookmarking articles you want to read later!</p>
                <a href="{{ url_for('articles') }}" class="btn btn-primary stable-btn">
                    <i class="fas fa-list"></i> Browse Articles
                </a>
            </div>
        </div>
    {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script>
    function removeBookmark(bookmarkId) {
        if (confirm('Are you sure you want to remove this bookmark?')) {
            // This would require implementing a delete endpoint
            alert('Remove bookmark functionality would be implemented here.');
        }
    }
</script>
{% endblock %}
